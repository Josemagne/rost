"use strict";var ConversationType;!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,(function(){function n(n){var e=this.constructor;return this.then((function(t){return e.resolve(n()).then((function(){return t}))}),(function(t){return e.resolve(n()).then((function(){return e.reject(t)}))}))}var e=setTimeout;function t(n){return Boolean(n&&void 0!==n.length)}function o(){}function i(n){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(n,this)}function r(n,e){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn((function(){var t=1===n._state?e.onFulfilled:e.onRejected;if(null!==t){var o;try{o=t(n._value)}catch(n){return void f(e.promise,n)}u(e.promise,o)}else(1===n._state?u:f)(e.promise,n._value)}))):n._deferreds.push(e)}function u(n,e){try{if(e===n)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if(e instanceof i)return n._state=3,n._value=e,void c(n);if("function"==typeof t)return void l((o=t,r=e,function(){o.apply(r,arguments)}),n)}n._state=1,n._value=e,c(n)}catch(e){f(n,e)}var o,r}function f(n,e){n._state=2,n._value=e,c(n)}function c(n){2===n._state&&0===n._deferreds.length&&i._immediateFn((function(){n._handled||i._unhandledRejectionFn(n._value)}));for(var e=0,t=n._deferreds.length;e<t;e++)r(n,n._deferreds[e]);n._deferreds=null}function a(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function l(n,e){var t=!1;try{n((function(n){t||(t=!0,u(e,n))}),(function(n){t||(t=!0,f(e,n))}))}catch(n){if(t)return;t=!0,f(e,n)}}i.prototype.catch=function(n){return this.then(null,n)},i.prototype.then=function(n,e){var t=new this.constructor(o);return r(this,new a(n,e,t)),t},i.prototype.finally=n,i.all=function(n){return new i((function(e,o){if(!t(n))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return e([]);var r=i.length;function u(n,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var f=t.then;if("function"==typeof f)return void f.call(t,(function(e){u(n,e)}),o)}i[n]=t,0==--r&&e(i)}catch(n){o(n)}}for(var f=0;f<i.length;f++)u(f,i[f])}))},i.resolve=function(n){return n&&"object"==typeof n&&n.constructor===i?n:new i((function(e){e(n)}))},i.reject=function(n){return new i((function(e,t){t(n)}))},i.race=function(n){return new i((function(e,o){if(!t(n))return o(new TypeError("Promise.race accepts an array"));for(var r=0,u=n.length;r<u;r++)i.resolve(n[r]).then(e,o)}))},i._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){e(n,0)},i._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in s?s.Promise.prototype.finally||(s.Promise.prototype.finally=n):s.Promise=i})),function(n){n.CHAT_REQUEST="CHAT_REQUEST",n.OFFLINE_CHAT_REQUEST="OFFLINE_CHAT_REQUEST",n.VIDEO_REQUEST="VIDEO_REQUEST",n.AUDIO_REQUEST="AUDIO_REQUEST",n.HEADLESS_BROWSER_REQUEST="HEADLESS_BROWSER_REQUEST",n.DOMCAP_BROWSER_REQUEST="DOMCAP_BROWSER_REQUEST",n.MOBILE_COBROWSING_REQUEST="MOBILE_COBROWSING_REQUEST"}(ConversationType||(ConversationType={}));var unbluLoad=function(){var n="MZsy5sFESYqU7MawXZgR_w",e="",t=null,o=function(n){console.error("Unable to load Live Chat",n)};return function(i){var r=function(){window.unblu.api.isConfigurationNeeded()&&window.unblu.api.configure({apiKey:n,serverUrl:e}),window.unblu.api.initialize().then((function(n){return n.ui.openIndividualUi()})).catch(o)};window.unblu&&window.unblu.api?r():(t||(t=new Promise((function(n,t){var o=document.createElement("script");o.onerror=t,o.onload=function(){n()},o.src=e+"/unblu/js-api/v2/visitor/visitor-api.min.js",document.head.appendChild(o)})))).then(r,o)}}();
//# sourceMappingURL=livechat.min.js.map